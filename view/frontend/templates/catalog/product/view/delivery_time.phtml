<?php
/**
 * @author Unexpected Team
 * @copyright Copyright (c) 2020 Unexpected
 * @package Unexpected_DeliveryTime
 */

use Magento\Catalog\Block\Product\View;
use Unexpected\DeliveryTime\ViewModel\DeliveryTime;

/** @var View $block */
$product = $block->getProduct();
$layout = $block->getRequest()->getFullActionName();

/** @var DeliveryTime $viewModel */
$viewModel = $block->getViewModel();
?>
<?php if ($viewModel->isEnabledOnProduct($product, $layout)): ?>
    <div class="delivery-time">
        <div class="fieldset">
            <div class="field delivery_time">
                <label class="label" for="delivery-time">
                    <span><?= $viewModel->renderFromProduct($product) ?></span>
                </label>
            </div>
        </div>
    </div>
<?php endif; ?>
